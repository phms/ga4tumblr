"use strict";
/*!
 * ga4tumblr
 * http://code.google.com/p/ga4tumblr/downloads/list
 *
 * Copyright 2011, @fabiophms
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
*/

/*
 * Includes jQuery JavaScript Library
 * http://jquery.com/
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Includes jQuery.appear v1.1.1
 * http://code.google.com/p/jquery-appear/
 * Copyright (c) 2009 Michael Hixson
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 *
 * Adaptation to 'Debuging Javascript with Google Analytics'
 * http://www.directperformance.com.br/en/javascript-debug-simples-com-google-analytics
 * 2010, Eduardo Cereto
*/
var ga4tumblr={ua:ga4tumblr_ua,version:1.5,path:String(document.location.pathname).toLowerCase(),host:String(document.location.host).toLowerCase(),protocol:String(document.location.protocol).toLowerCase(),owner_cookie:"ga4tumblr_owner="+window.escape(document.title),a:document.createElement("a"),str2link:function(a){ga4tumblr.a.href=a;return ga4tumblr.a},set_owner:function(){document.cookie=ga4tumblr.owner_cookie+"; domain=.tumblr.com; path=/"},is_owner:function(){if(String(document.cookie).indexOf(ga4tumblr.owner_cookie)!==
-1||ga4tumblr.path.indexOf("/new/")===0||ga4tumblr.host==="safe.tumblr.com")return ga4tumblr.set_owner(),!0;return!1},load_ga:function(){if(!ga4tumblr.ua)throw"GA account not set!";if(typeof window._gaq==="undefined")window._gaq=[];window._gaq.push(["_setAccount",ga4tumblr.ua]);window._gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";
var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)})()},apply_selector:function(){jQuery(document).ready(function(){try{var a=ga4tumblr.path==="/"?"/":ga4tumblr.path+"/",c=ga4tumblr.protocol+"//"+ga4tumblr.host+"/post/";jQuery.expr[":"].external=function(a){return a.hostname&&a.hostname!==ga4tumblr.host};jQuery("a:external").mousedown(function(){window._gaq.push(["_trackPageview",a+"external/"+this.hostname])});jQuery("a[href*='#']").mousedown(function(){var b=this.hash,
b=b?b.substr(1):jQuery.trim(jQuery(this).text()).replace(/\s/g,"-");window._gaq.push(["_trackPageview",a+"hash/"+b])});var d=[];jQuery("a[href^='"+c+"']:not(a[href*='#'])").each(function(){d[jQuery(this).attr("href")]=jQuery(this)});for(var b in d)d.hasOwnProperty(b)&&d[b].appear(function(a,b){window._gaq.push(["_trackPageview",ga4tumblr.str2link(b).pathname])},{data:b})}catch(e){_track_error_event(e)}})},script_load:function(a,c,d){var b=document.createElement("script");b.type="text/javascript";
b.async="true";b.src=a;if(d)b.id=d;if(c)b.readyState?b.onreadystatechange=function(){if(b.readyState==="loaded"||b.readyState==="complete")b.onreadystatechange=null,c()}:b.onload=function(){c()};a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)},prepare_selectors:function(){(function(a){a.fn.appear=function(c,d){var b=a.extend({one:!0},d);return this.each(function(){var e=a(this);e.appeared=!1;if(c){var d=a(window),f=function(){if(e.is(":visible")){var a=d.scrollLeft(),c=
d.scrollTop(),f=e.offset(),g=f.left,f=f.top;f+e.height()>=c&&f<=c+d.height()&&g+e.width()>=a&&g<=a+d.width()?e.appeared||e.trigger("appear",b.data):e.appeared=!1}else e.appeared=!1},g=function(){e.appeared=!0;if(b.one){d.unbind("scroll",f);var g=a.inArray(f,a.fn.appear.checks);g>=0&&a.fn.appear.checks.splice(g,1)}c.apply(this,arguments)};if(b.one)e.one("appear",b.data,g);else e.bind("appear",b.data,g);d.scroll(f);a.fn.appear.checks.push(f);f()}else e.trigger("appear",b.data)})};a.extend(a.fn.appear,
{checks:[],timeout:null,checkAll:function(){var c=a.fn.appear.checks.length;if(c>0)for(;c--;)a.fn.appear.checks[c]()},run:function(){a.fn.appear.timeout&&clearTimeout(a.fn.appear.timeout);a.fn.appear.timeout=setTimeout(a.fn.appear.checkAll,20)}});a.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(c,d){var b=a.fn[d];b&&(a.fn[d]=function(){var c=b.apply(this,arguments);a.fn.appear.run();return c})})})(jQuery);
ga4tumblr.apply_selector()}};function _track_error_event(a){typeof window._gaq!=="undefined"&&window._gaq.push(["_trackEvent","Exception "+(a.name||"Error"),a.message||a,document.location.href]);typeof console!=="undefined"&&typeof console.error!=="undefined"&&console.error((a.name||"Error")+": "+(a.message||a))}
try{ga4tumblr.is_owner()||(ga4tumblr.load_ga(),typeof jQuery==="undefined"?ga4tumblr.script_load(ga4tumblr.protocol+"//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js",ga4tumblr.prepare_selectors):ga4tumblr.prepare_selectors())}catch(e$$6){_track_error_event(e$$6)};
